# 品質メトリクス（テンプレート）

本テンプレートは、プロダクトの品質を定量/定性の両面から継続的に可視化・改善するための共通フォーマットです。必要に応じて複製し、プロジェクト固有の指標セットに調整してください。

## 目的 / 狙い

- なぜ測るのか（意思決定・優先度付け・改善サイクルへの接続）
- 誰が使うのか（開発/QA/運用/経営）

## スコープ

- 対象: システム/サービス/コンポーネント
- 期間: 例）今期/スプリント/四半期
- 環境: 本番/ステージング/CI アーティファクト

## 運用ルール

- 収集頻度: PRごと/日次/週次/各リリース
- 可視化: ダッシュボードURL、レポート様式（HTML/LCOV/CSV 等）
- レビュー: 誰がいつ見るか（例: 週次品質会議、スプリントレビュー）
- エスカレーション: 閾値超過時の対応フローと責任者

---

## 指標ブロック（雛形：複製して利用）

- 指標名: 例）テストカバレッジ（Line/Branch）
- 定義: 分母/分子の定義、算出式、除外範囲
- 目標/しきい値: 目標値、警告/致命の閾値（例: Line>=80%、Branch>=70%）
- 計測方法/データ源: 取得元、使用ツール（例: Jest/coverlet、k6、Sentry 等）
- 収集頻度/可視化: 毎PR、週次、ダッシュボードURL
- 責任者/エスカレーション: 担当、閾値超過時の対応
- 改善アクション例: カバレッジ低下時の施策、欠陥増時の根本原因分析 など

---

## 推奨指標セット（サンプル）

### 1) デリバリー（DORA）

- デプロイ頻度、変更リードタイム、MTTR、変更失敗率

### 2) 品質・テスト

- 欠陥密度、バグ流出率、E2E合格率、テスト不安定率（flake率）

### 3) カバレッジ

- Line/Branch/Function、差分カバレッジ

### 4) パフォーマンス/SLO

- p95/99 応答時間、エラー率、可用性、スループット

### 5) セキュリティ/アクセシビリティ

- 重大脆弱性未解決数、依存関係アラート、高優先バグの未解決件数、WCAG違反数

---

## サンプル（記入例）

- 指標名: テストカバレッジ（Line/Branch）
- 定義: Line=ステートメント行/全行、Branch=条件分岐網羅率。自動生成コードと設定ファイルは除外
- 目標/しきい値: Line>=80%、Branch>=70%。クリティカル領域はLine>=90%
- 計測方法/データ源: CIでカバレッジ収集（LCOV/HTML）
- 収集頻度/可視化: PRごと・mainブランチ日次集計。ダッシュボード: <ダッシュボードURL>
- 責任者/エスカレーション: QAリード。未達時は次スプリントで改善計画提出
- 改善アクション例: 差分カバレッジゲート導入、重要モジュールのテスト追加
