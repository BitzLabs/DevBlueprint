# 01.JavaScript コーディング規約

このドキュメントでは、ECMAScript 2015 (ES6) 以降のモダンなJavaScriptを記述する際の、コーディングスタイルと規約について定めます。

!!! note "共通原則との関係"
    本規約は、**[01.共通/01_共通コーディング原則](../../01_共通/01_共通コーディング原則.md)**を、JavaScript言語に特化・具体化したものです。必ず共通原則にも目を通してください。

---

## 1. 基本方針: Airbnb Style Guide準拠

*   本プロジェクトのJavaScriptコードは、世界的に広く採用されている**[Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)**に準拠することを基本とします。
*   これは、モダンなJavaScriptのベストプラクティスを網羅した、非常に包括的で信頼性の高いスタイルガイドです。

---

## 2. 自動フォーマットとリンティングの強制

手作業でのスタイル遵守は非効率であり、レビューのノイズとなります。本プロジェクトでは、ツールによって規約の遵守を強制します。

*   **リンター: `ESLint`**
    *   **役割:** コードの品質をチェックし、潜在的なバグやスタイル違反を検出します。Airbnbの規約セット (`eslint-config-airbnb-base`) をベースとして使用することを推奨します。
*   **フォーマッター: `Prettier`**
    *   **役割:** コードの見た目（インデント、スペース、改行など）を、議論の余地なく統一します。
    *   **運用:** `ESLint`と連携させ、フォーマットに関するルールは`Prettier`に一任します。

!!! success "CI/CDとの連携"
    これらのツールをCI/CDプロセスに組み込み、規約に違反したコードのマージを自動的にブロックすることで、コードベースの品質を常に高く維持します。

---

## 3. 命名規則

*   **`PascalCase`**: クラス名 (`class UserService { ... }`)
*   **`camelCase`**: 変数名、関数名、プロパティ名、メソッド名 (`const userName = ...`, `function getUser() {}`)
*   **ファイル名**: **`kebab-case.js`** (例: `user-service.js`) を推奨します。

---

## 4. 主要な言語機能とスタイル

### 4.1. 変数宣言
*   **`var`は禁止:** `var`が持つ関数スコープや巻き上げといった問題のある挙動を避けるため、使用を**禁止**します。
*   **`const`を基本とする:** 再代入しない変数は、必ず**`const`**で宣言します。
*   **`let`は限定的に使用:** 再代入が必要な変数（ループカウンターなど）にのみ、**`let`**を使用します。

### 4.2. 関数
*   **アロー関数の推奨:** `function`キーワードよりも、簡潔で`this`の挙動が直感的なアロー関数 (`=>`) の使用を推奨します。

### 4.3. 文字列とセミコロン
*   これらのスタイルは`Prettier`によって自動で統一されます。
    *   **クォーテーション:** 文字列は**シングルクォーテーション (`'`)** を基本とします。
    *   **セミコロン:** 文末にはセミコロンを付けます。

### 4.4. モジュール
*   CommonJSの`require`/`module.exports`は使用せず、必ずESM（ECMAScript Modules）の**`import`/`export`構文**を使用します。

---

## 5. 要求IDとの連携

*   **[01.共通コーディング原則](../../01_共通/01_共通コーディング原則.md)**で定められた通り、機能の実装に対応する要求IDをコメントとして明記します。

    ```javascript
    // REQ-API-3.1: 全てのユーザーリストを取得する
    const fetchAllUsers = async () => {
      // ...
    };
    ```
    