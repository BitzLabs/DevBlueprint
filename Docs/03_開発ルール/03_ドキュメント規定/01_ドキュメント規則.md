# 01.ドキュメント規則

## 1. 基本方針

*   **明確性:** ドキュメントは、対象読者が容易に理解できるよう、明確かつ簡潔な言葉で記述します。
*   **一貫性:** 用語、書式、構造などにおいて、プロジェクト全体で一貫性を保ちます。
*   **保守性:** 将来的な変更や更新が容易に行えるよう、構造化されたドキュメントを作成します。
*   **自己完結性:** 可能な限り、このドキュメントサイト内で情報が完結することを目指します。

## 2. ファイルとフォルダの命名

*   **ファイル形式:** Markdown形式 (`.md`) を使用します。
*   **エンコーディング:** UTF-8 (BOMなし) を使用します。
*   **命名規則:**
    *   ファイル名およびフォルダ名は、**半角英数字、ハイフン (`-`)、アンダースコア (`_`)** を基本とします。スペースは使用しません。
    *   主要なドキュメントやカテゴリフォルダには、`01_`のような**2桁の数字プレフィックス**を付け、順序を明確にします。
    *   各カテゴリフォルダの案内ページとなるファイル名は **`README.md`** に統一します。
*   **ファイル名と要求IDの関係:**
    *   ファイル名は、人間がその**内容を理解しやすい**ように命名します。（例: `01_認証機能.md`）
    *   要求ID (`REQ-XXX-X.X`など) は、原則として**ファイル名には含めません。**
    *   要求IDは、ファイルの**中身**の見出しや本文で定義・参照します。

## 3. リンクテキストの表記スタイル

ドキュメント間のリンクテキストの書式は、可読性と構造の分かりやすさのため、以下のように統一します。

*   **ファイル名を直接指す場合:**
    *   `[01.ブランチ戦略](./01_ブランチ戦略.md)` のように、`[番号.タイトル]`形式で記述します。ドットの後のスペースは入れません。
*   **パスを含む場合:**
    *   `[02.プロジェクト規定/01.ブランチ戦略](./02_プロジェクト規定/01_ブランチ戦略.md)` のように、実際のパス構造を`/`で区切って表現します。これにより、リンクの階層が一目で分かります。

## 4. 要求IDによるトレーサビリティ

プロジェクト全体の成果物の追跡可能性を確保するため、**要求ID**を定義し、その利用ルールを定めます。

### 4.1. 命名規則
*   要求仕様書で定義される各要件には、プロジェクト内で一意のIDを付与します。
*   **フォーマット:** `[種別]-[カテゴリ]-[メジャー番号].[マイナー番号]`
    *   **種別:** `REQ`(機能要件), `NFR`(非機能要件), `UI`(UI/UX要件)など。
    *   **カテゴリ:** 機能を示す3〜4文字の略称 (例: `AUTH`, `USER`, `POST`)。
    *   **メジャー番号:** 機能の大きな塊を表す番号 (例: `1`, `2`, `3`...)。
    *   **マイナー番号:** メジャー番号に属する詳細な要求を表す番号 (例: `0`, `1`, `2`...)。`.0` は親となる概要要求に使うことを推奨。
*   **具体例:**
    *   `REQ-AUTH-1.0`: ログイン機能全体の要求。
    *   `REQ-AUTH-1.1`: パスワードポリシーに関する要求。
    *   `REQ-AUTH-1.2`: アカウントロックに関する要求。

### 4.2. ドキュメント内での利用
*   **定義:** 要求仕様書でIDを定義する箇所には、`<a id="REQ-AUTH-1.0"></a> のようにHTMLアンカーを埋め込みます。
*   **参照:** 他のMarkdownドキュメントからIDを参照する場合は、必ずアンカーへのリンクを作成します。
    *   例: `この設計は[REQ-AUTH-1.1](../../01_要求仕様/01_機能要件/01_認証機能.md#REQ-AUTH-1.1)を実現する。`

> [!NOTE]
> ソースコードや自動テストコード内での要求IDの記述ルールについては、それぞれ**[04.コーディング規定/01.コーディング規約.md](../../04_コーディング規定/01_コーディング規約.md)**および**[05.リリース規定/01.テスト戦略.md](../../05_リリース規定/01_テスト戦略.md)**を参照してください。

## 5. Markdownの基本構造

各ドキュメントファイルは、一貫性と機械的な処理のしやすさを考慮し、以下の基本構造に従います。

```markdown
---
# (任意) このページのメタデータ (YAML Front Matter)
title: サイドバーに表示するカスタムタイトル
...
---

# (必須) H1見出し (ドキュメントタイトル)
この見出しが、ページ内で最も大きなタイトルとして表示されます。
```

*   **Front Matter (任意):**
    *   ページのタイトルを`mkdocs.yml`の`nav`で定義されたものから変更したい場合など、特別なメタデータを定義する場合にのみ使用します。
    *   YAML形式で`---`の間に記述します。詳細は**[Z1.MkDocsガイド]**を参照してください。
*   **H1見出し (必須):**
    *   全てのドキュメントは、**Front Matterの直後（またはファイルの先頭）に、必ず`#`から始まるH1見出しを1つだけ**含める必要があります。
    *   このH1見出しが、そのページの主題を示すメインタイトルとなります。

## 6. Markdown記述スタイルガイド

*   **見出し:**
    *   H1見出しは、前述の通り各ファイルのタイトルとして1つだけ使用します。
    *   本文中のセクションの見出しは `##` (H2)、サブセクションは `###` (H3) のように、H2から階層を正しく使用します。
*   **コードブロック:**
    *   複数行のコードは、トリプルバッククォート (`` ``` ``) で囲み、言語指定 (`csharp`, `yaml`, `bash`など) を必ず行い、シンタックスハイライトを有効にします。
*   **注釈 (Admonition):**
    *   読者の注意を引いたり、補足説明を行ったりするために、`Material for MkDocs`の注釈機能を積極的に活用します。
        ```markdown
        !!! note "補足情報"
            ここに補足情報を記述します。
        
        !!! warning "注意・警告"
            注意すべき点や、警告事項を記述します。
        ```
    *   利用可能な種類: `note`, `info`, `tip`, `success`, `warning`, `danger`, `bug`, `example`, `quote`

## 7. ナビゲーションの管理 (`mkdocs.yml`)

サイトのサイドバーナビゲーションは、リポジトリルートの`mkdocs.yml`内の`nav:`セクションで一元管理します。

*   **手動管理 (現在):**
    *   新しいドキュメントを追加・削除した場合は、**手動で`mkdocs.yml`の`nav:`セクションを更新**する必要があります。
    *   これにより、ナビゲーションの順序や階層、表示名を意図通りに制御できます。
*   **自動化 (将来構想):**
    *   **目的:** `Docs/`フォルダの構造をスキャンし、`mkdocs.yml`の`nav:`セクションを自動で生成するCLIツールまたはGitHub Actionsの導入を検討します。
    *   **期待する効果:** ドキュメントの追加・削除時に`mkdocs.yml`を編集する手間がなくなり、ヒューマンエラーを防ぎます。
    *   **課題:** ファイル名のプレフィックス（`01_`など）に基づいた自動ソートや、任意の表示名を設定する仕組みが必要になります。この構想は、**[CLIツールの仕様検討 (Issue #16)]**で具体化します。

## 8. ドキュメントのレビュープロセス

ドキュメントの品質を維持するため、新規作成や重要な変更は、原則として**プルリクエスト (PR) を通じて**行います。
詳細なフローは **[02.プロジェクト規定/01.ブランチ戦略](../02_プロジェクト規定/01_ブランチ戦略)** のプルリクエストの項を参照してください。
